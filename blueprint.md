# CarCheck Application Blueprint

## Overview

CarCheck is a web application built with Next.js, Firebase, and Gemini, designed for individuals who want a pre-purchase inspection for vehicles. The application provides a seamless workflow for scheduling appointments, tracking orders, and generating detailed inspection reports.

## Design and Styling

*   **Color Palette:**
    *   Background: `#000000` (black)
    *   "Car" word: `#B8860B` (dark gold)
    *   "Check" word: `#FFD700` (bright yellow)
    *   Main Text: `#FFFFFF` (white)
    *   Button Hover: `#FFD700` (bright yellow) with black text
*   **Logo:** "CarCheck" with "Car" in dark gold and "Check" in bright yellow on a black background.
*   **Visual Style:** Modern, minimalist, with clear sans-serif typography.
*   **UI Elements:** Buttons and dropdowns with rounded borders and hover effects in yellow/gold.

## Application Structure

### 1. Main Page (`/`)

*   **Header:** Logo and navigation.
*   **Sections:**
    *   **Agendar Cita (Schedule Appointment):** Button to start the appointment scheduling process.
    *   **Seguir Orden (Track Order):** Form to track an existing order.
    *   **Inspector:** Login for inspectors.
*   **Footer:** Social media icons (WhatsApp, Instagram, Facebook) with links to the respective profiles and copyright information.

### 2. Agendar Cita (Schedule Appointment) Flow

*   **Package Selection (`/schedule/package`):**
    *   Packages with prices: Core ($4000), CarCheck Plus ($5000), Pro ($8000).
    *   Selected package name and price are stored in `localStorage` to ensure consistency.
*   **Personal Information (`/schedule/personal-info`):**
    *   Form with fields: Name, Phone, Email.
*   **Vehicle Information (`/schedule/vehicle-info`):**
    *   Form with fields for Make, Model, VIN, and Year.
    *   **Location Selection:**
        *   Integrated Google Map for selecting the vehicle's location.
        *   The "Next" button is disabled until a location is selected to ensure data integrity.
*   **Payment (`/schedule/payment`):**
    *   The price of the selected package is dynamically displayed.
    *   Payment method selection: PayPal, Bank Transfer, or Cash.
*   **Confirmation (`/schedule/confirmation`):**
    *   Displays the final order summary, including the dynamically retrieved package name and price.
    *   An automatically generated order number is provided.

### 3. Seguir Orden (Track Order) Flow

*   **Tracking Form (`/track`):**
    *   Input fields: Email or Phone + Order Number.
*   **Order Status (`/track/orders`):**
    *   Displays a list of the client's orders with status: "En proceso" (In Process) or "Completado" (Completed).
    *   For completed orders, a "Ver Informe" button links to the detailed report page.

### 4. Inspector Flow

*   **Login (`/inspector/login`):**
    *   Email and password authentication.
*   **Dashboard (`/inspector/dashboard`):**
    *   Lists all assigned orders.
    *   **Actions per order:**
        *   **Status Selector:** A dropdown to manually set the order status.
        *   **Iniciar InspecciÃ³n:** A button that navigates to the detailed inspection form (`/inspector/dashboard/[orderId]`).
*   **Inspection Form (`/inspector/dashboard/[orderId]`):**
    *   **Scoring System:** Each inspection point is rated using face emojis (ðŸ˜ž to ðŸ˜„) representing scores from 1 to 5.
    *   **Observations:** A text area for the inspector's detailed notes.
    *   **Gemini AI Integration:** On submission, data is sent to the Gemini API to generate a professional report.

### 5. Client Report View (`/report/[orderId]`)

*   **Purpose:** A dedicated, client-facing page to display the final inspection report.
*   **Design:** Clean, professional, and mobile-friendly layout focusing on readability.
*   **Content:**
    *   Displays key vehicle details (Make, Model, Year, VIN).
    *   Presents the full, formatted report generated by Gemini, including the summary, category analysis, and recommendations.

## Integrations

*   **Firebase:**
    *   Authentication: For inspectors.
    *   Firestore: To store order details, customer information, and inspection data.
    *   Storage: To store the generated PDF reports.
*   **Gemini API:** To automatically generate inspection reports.
*   **Google Maps API:** For vehicle location selection.
*   **Social Media:** WhatsApp, Instagram, and Facebook integration on the main page.

## Current Task: Bug Fixes

*   **[Completed]** Fixed issue where the map on the vehicle information page was not loading correctly and allowed users to proceed without selecting a location.
*   **[Completed]** Implemented dynamic pricing to ensure the correct package price is displayed on the payment and confirmation pages.
